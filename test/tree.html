<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>MooPack Tree</title>
  <link rel="stylesheet" type="text/css" href="../style/tree.css" media="screen" />
  <script type="text/javascript" src="../lib/core.js"></script>
  <script type="text/javascript" src="../lib/more.js"></script>
  <script type="text/javascript" src="../source/moopack.js"></script>
  <script type="text/javascript" src="../source/tree.js"></script>
  <script type="text/javascript" src="../source/tree.node.js"></script>
  <style type="text/css">
    body, button {font:12px arial;}
    body {background-color:silver;}
    h1 {font:bold 16px times; text-align:center; margin-top:100px;}
    button {height:24px;}
    #wrapper {width:400px; margin:0 auto;}
    #workspace {height:400px; border:1px solid grey; background-color:white; overflow:auto;}
    .moopack-tree {margin-top:10px;}
  </style>
</head>
<body>
  <h1>MooPack Tree v1.0</h1>
  <div id="wrapper">
    <div id="workspace"></div>
    <hr/>
    <div id="options">
      <form id="frm_options">
        <table><tr>
          <td><input type="checkbox" name="chk_interactive" value="interactive" checked />Interactive<br/></td>
          <td><input type="checkbox" name="chk_checkboxes" value="checkboxes" />Checkboxes<br/></td>
          <td><input type="checkbox" name="chk_rootnode" value="rootnode" />Root Node<br/></td>
        </tr></table>
      </form>
      <button onclick="updateTree()">Update</button>
      <hr/>
      <button onclick="alertSelected()">Alert Selected</button>
      <button onclick="alertNode(6)">Alert Node #6</button>
      <button onclick="expandSelected()">Expand Selected</button>
      <button onclick="collapseSelected()">Collapse Selected</button>
    </div>
  </div>
</body>
<script>
  function updateTree() {
    var options = {
      interactive: frm.chk_interactive.checked,
      checkboxes: frm.chk_checkboxes.checked,
      rootNode: frm.chk_rootnode.checked
    };
    tree = new MooPack.Tree('workspace', options, events);
    tree.setId('simple_tree');
    tree.loadData(data);
  }

  function alertSelected() {
    if (tree.selected) {
      alert(tree.selected.text);
    }
  }

  function alertNode(id) {
    alert(tree.getNode(id).text);
  }

  function expandSelected() {
    tree.expandAll(tree.selected);
  }

  function collapseSelected() {
    tree.collapseAll(tree.selected);
  }

  var data = [
    //[0, -1, 'Root'],
    [1, 0, 'Item1', 1, {id:'node1', className:'item-class', seq:3, style:{color:'red', fontWeight:'bold'}}],
    [2, 0, 'Item2', 1, {id:'node2', title:'This is a hint', seq:1}],
    [4, 3, 'Item4', 1, {id:'node4', href:'javascript:alert("linkable node!")', target:'_blank'}],
    [5, 3, 'Item5', 1, {id:'node5', checked: true}],
    [3, 2, 'Item3', 1, {id:'node3'}],
    [6, 5, 'Item6', 1, {id:'node6'}],
    [7, 2, 'Item7', 1, {id:'node7'}],
    [8, 7, 'Item8', 1, {id:'node8', seq:2}],
    [9, 7, 'Item9', 1, {id:'node9', seq:1}],
    [11, 20, 'ItemX', 1, {id:'node9', seq:1}],
    [10, 0, 'Item10', 1, {id:'node10', seq:2}]
  ],
  //var data = [ [19, 0, 19], [21, 19, 21], [22, 21, 22], [23, 0, 23], [24, 23, 24]];

  frm = $('frm_options'),
  events = {
  },
  tree;
  updateTree();
</script>
</html>